/** Delta Growth (https://dg.agency/) providing hooks for SBJS into GTM, GA and CRM **/
class DGAcquisition{constructor(t,e){this.life_time=t||90,this.db_data=e.length>0&&e,sbjs.init({lifetime:t});var r=this.getGclid();void 0===sbjs.get.first_add.ep&&(sbjs.get.first_add.ep=""),this.firsttouch={source:sbjs.get.first.src,medium:sbjs.get.first.mdm,campaign:sbjs.get.first.cmp,content:sbjs.get.first.cnt,term:sbjs.get.first.trm,referrer:sbjs.get.first_add.rf,landing_page:sbjs.get.first_add.ep.split("?")[0],gclid:r.first},void 0===sbjs.get.current_add.ep&&(sbjs.get.current_add.ep=""),this.current={source:sbjs.get.current.src,medium:sbjs.get.current.mdm,campaign:sbjs.get.current.cmp,content:sbjs.get.current.cnt,term:sbjs.get.current.trm,referrer:sbjs.get.current_add.rf,landing_page:sbjs.get.current_add.ep.split("?")[0],gclid:r.current}}getCurrentData(){return this.current}getFirstTouchData(){return this.firsttouch}getCookie(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()}getUrlParameter(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}setCookie(t,e){var r=new Date;r.setTime(r.getTime()+24*this.life_time*60*60*1e3),document.cookie=t+"="+e+";expires="+r.toUTCString()+";domain=."+window.location.hostname+";path=/"}getGclid(){var t=new Date;t.setTime(t.getTime()+6e4);var e=t.getTime(),r=(t=new Date).getTime(),i=new Object,s="(none)",a="(none)",n=e;if(""!=this.getUrlParameter("gclid"))s=this.getUrlParameter("gclid");var c=this.getCookie("dga_gclid");if(void 0!==c){var[d,a,n]=c.split("|||");n<r&&(a=d,n=e)}return this.setCookie("dga_gclid",s+"|||"+a+"|||"+n),i.current=s,i.first=a,i}pushToDataLayer(t){var e=t||"acquisition_data",r={dgacquisition:{firsttouch:this.firsttouch,current:this.current,db_data:this.db_data},event:e};(window.dataLayer=window.dataLayer||[]).push(r)}}
