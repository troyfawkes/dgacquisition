/** Delta Growth (https://dg.agency/) providing hooks for SBJS into GTM, GA and CRM **/
class DGAcquisition{constructor(t,e){this.life_time=t||90,this.db_data=e.length>0&&e,sbjs.init({lifetime:t});var r=this.getGclid();this.firsttouch={source:sbjs.get.first.src,medium:sbjs.get.first.mdm,campaign:sbjs.get.first.cmp,content:sbjs.get.first.cnt,term:sbjs.get.first.trm,referrer:sbjs.get.first_add.rf,landing_page:sbjs.get.first_add.ep,gclid:r.first},this.current={source:sbjs.get.current.src,medium:sbjs.get.current.mdm,campaign:sbjs.get.current.cmp,content:sbjs.get.current.cnt,term:sbjs.get.current.trm,referrer:sbjs.get.current_add.rf,landing_page:sbjs.get.current_add.ep,gclid:r.current}}getCurrentData(){return this.current}getFirstTouchData(){return this.firsttouch}getCookie(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()}getUrlParameter(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}setCookie(t,e){var r=new Date;r.setTime(r.getTime()+24*this.life_time*60*60*1e3),document.cookie=t+"="+e+";expires="+r.toUTCString()+";domain=."+window.location.hostname+";path=/"}getGclid(){var t=new Date;t.setTime(t.getTime()+6e4);var e=t.getTime(),r=(t=new Date).getTime(),i=new Object,s="(none)",a="(none)",c=e;if(""!=this.getUrlParameter("gclid"))s=this.getUrlParameter("gclid");var n=this.getCookie("dga_gclid");if(void 0!==n){var[d,a,c]=n.split("|||");c<r&&(a=d,c=e)}return this.setCookie("dga_gclid",s+"|||"+a+"|||"+c),i.current=s,i.first=a,i}pushToDataLayer(t){var e={event:t||"acquisition_data",firsttouch_source:this.firsttouch.source,firsttouch_medium:this.firsttouch.medium,firsttouch_campaign:this.firsttouch.campaign,firsttouch_content:this.firsttouch.content,firsttouch_term:this.firsttouch.term,firsttouch_referrer:this.firsttouch.referrer,firsttouch_landing_page:this.firsttouch.landing_page,firsttouch_gclid:this.firsttouch.gclid,current_source:this.current.source,current_medium:this.current.medium,current_campaign:this.current.campaign,current_content:this.current.content,current_term:this.current.term,current_referrer:this.current.referrer,current_landing_page:this.current.landing_page,current_gclid:this.current.gclid};if(this.db_data){let t={db_data_source:this.db_data.source,db_data_medium:this.db_data.medium,db_data_campaign:this.db_data.campaign,db_data_content:this.db_data.content,db_data_term:this.db_data.term,db_data_referrer:this.db_data.referrer,db_data_landing_page:this.db_data.landing_page,db_data_gclid:this.db_data.gclid};e=e.concat(t)}dataLayer.push(e)}}